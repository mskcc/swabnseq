(this["webpackJsonpmetagenome-analyzer"]=this["webpackJsonpmetagenome-analyzer"]||[]).push([[0],{52:function(e,a,t){e.exports=t.p+"static/media/swab_n_seq_card.063e033b.png"},62:function(e,a,t){e.exports=t(95)},67:function(e,a,t){},69:function(e,a,t){},95:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(18),c=t.n(r),o=(t(67),t(68),t(13)),s=t(30),i=t(16),m=(t(69),t(46)),u=t.n(m),d={s:"Species",g:"Genus",f:"Family",o:"Order",c:"Class",p:"Phylum"},h="summary",p="individual",g=t(47),E=t(48),v=t(55),b=t(49),f=t(56),w={root:"/swabnseq/",service:"/swabnseq/"},N=t(50),y=t(51),O=t(22),j=t.n(O),k=function(e){function a(e){var t;return Object(g.a)(this,a),(t=Object(v.a)(this,Object(b.a)(a).call(this,e))).downloadEmployeeData=function(e){fetch("".concat(w.service,"/download?id=").concat(t.props.sampleId)).then((function(e){e.blob().then((function(e){var a=window.URL.createObjectURL(e),t=document.createElement("a");t.href=a,t.download="swabNseq.csv",t.click()}))}))},t}return Object(f.a)(a,e),Object(E.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{id:"container"},l.a.createElement("a",{href:"#",onClick:this.downloadEmployeeData},l.a.createElement(N.a,{className:"download-icon",icon:y.a})))}}]),a}(l.a.Component);var x=function(e){var a=e.sliceList.filter((function(a){return a.org[e.level]})),t=e.sampleId;if(0===a.length){var n=""!==t?"for ".concat(t," "):"";return l.a.createElement("div",{className:"center pos-abs"},l.a.createElement("p",{className:"text-align-center"},"No data ",n,"at ",d[e.level]," level"))}var r=[],c=[],o=!0,s=!1,i=void 0;try{for(var m,h=a[Symbol.iterator]();!(o=(m=h.next()).done);o=!0){var p=m.value;c.push(p.org[e.level]),r.push(p.count)}}catch(g){s=!0,i=g}finally{try{o||null==h.return||h.return()}finally{if(s)throw i}}return l.a.createElement("div",null,l.a.createElement(u.a,{data:[{type:"pie",values:r,labels:c}],layout:{width:e.width,height:e.height,title:t,showlegend:e.showlegend},className:"hor-align"}),e.showDownload?l.a.createElement("div",{className:"download-container"},l.a.createElement(k,{sampleId:e.sampleId})):l.a.createElement("div",null))},S=t(32),D=t(29),q=t(118),I=t(121),C=t(122),G=t(119),_=t(120),A=t(117),F=t(123),R=t(52),L=t.n(R),P=function(e){return e.data||{}};var z=function(e){return j.a.get("".concat(w.service,"/getRecord?id=").concat(e)).then(P).catch(console.log)};var T=function(e){return e.update?l.a.createElement("div",{className:"update"},l.a.createElement("p",null,e.update)):l.a.createElement("div",null)};var B=function(e){var a=Object(n.useState)(null),t=Object(o.a)(a,2),r=t[0],c=t[1],s=Object(n.useState)([]),i=Object(o.a)(s,2),m=i[0],u=i[1],d=Object(n.useState)(null),h=Object(o.a)(d,2),p=h[0],g=h[1];return m.length>0?l.a.createElement("div",{className:"pos-rel"},l.a.createElement(x,{sliceList:m,sampleId:r,width:800,height:550,showlegend:!0,level:e.level,showDownload:!0})):l.a.createElement("div",null,l.a.createElement("p",null,'To access your data, enter the numerical id found on your swabNseq card. For instance, enter "23" for "SNS_23"'),l.a.createElement("div",{className:"sid-card pos-rel"},l.a.createElement("form",{onSubmit:function(e){e.preventDefault();var a,t=""===(a=r)?"Please enter a value":isNaN(a)?'Please enter the numerical id. For instance, enter "23" for "SNS_23"':void 0;t?g(t):(g("Fetching data for ".concat(r)),z(r).then((function(e){if(e.error)g(e.error);else{var a=e.record||[];u(a),g(null)}})).catch(console.log))},className:"id-entry pos-abs"},l.a.createElement("label",null,l.a.createElement("p",null,"Enter your ID number: ")),l.a.createElement("input",{type:"text",name:"name",className:"id-entry-input",onChange:function(e){var a=e.target.value;c(a)}}),l.a.createElement("input",{type:"submit",value:"Submit"})),l.a.createElement("img",{className:"sid-card inline-block",src:L.a,alt:"swabNseqIdCard"}),l.a.createElement("div",{className:"update-container"},l.a.createElement(T,{update:p}))))};var M=function(e){var a=Object(n.useState)("g"),t=Object(o.a)(a,2),r=t[0],c=t[1],s=Object(n.useState)(p),i=Object(o.a)(s,2),m=i[0],u=i[1],g=Object(n.useState)(0),E=Object(o.a)(g,2),v=E[0],b=E[1],f=Object(n.useState)(9),w=Object(o.a)(f,2),N=w[0],y=w[1],O=m===h?"Summary Statistics":"My Data";return l.a.createElement("div",null,l.a.createElement("div",{className:"summary-statistics-container pos-rel"},l.a.createElement(S.a,null,l.a.createElement(D.a,{xs:12,sm:4,className:"toggle-container z-index-1"},l.a.createElement(G.a,{component:"fieldset"},l.a.createElement(_.a,{component:"legend"},"Taxonomic Rank"),l.a.createElement(I.a,{"aria-label":"taxonomic-rank",name:"taxRank",value:r,onChange:function(e){c(e.target.value)}},l.a.createElement(C.a,{value:"s",control:l.a.createElement(q.a,null),label:d.s}),l.a.createElement(C.a,{value:"g",control:l.a.createElement(q.a,null),label:d.g}),l.a.createElement(C.a,{value:"f",control:l.a.createElement(q.a,null),label:d.f}),l.a.createElement(C.a,{value:"o",control:l.a.createElement(q.a,null),label:d.o}),l.a.createElement(C.a,{value:"c",control:l.a.createElement(q.a,null),label:d.c}),l.a.createElement(C.a,{value:"p",control:l.a.createElement(q.a,null),label:d.p}))),l.a.createElement("div",{className:"main-graph-toggle"},l.a.createElement(F.a,{value:m,exclusive:!0,onChange:function(e,a){u(a)},"aria-label":"mainGraph toggle"},l.a.createElement(A.a,{value:"summary","aria-label":"mainGraph summary",className:"main-graph-toggle-buttons"},l.a.createElement("p",{className:"margin-0"},"Summary")),l.a.createElement(A.a,{value:"individual","aria-label":"mainGraph myData",className:"main-graph-toggle-buttons"},l.a.createElement("p",{className:"margin-0"},"My Data"))))),l.a.createElement(D.a,{xs:12,sm:8,className:"main-graph-container"},l.a.createElement("h1",{className:"text-align-center"},O),m===h?l.a.createElement(x,Object.assign({},e,{sliceList:e.summaryGraph[r]||[],sampleId:"",width:850,height:550,showlegend:!0,level:r,showDownload:!1})):l.a.createElement(B,Object.assign({},e,{level:r}))))),l.a.createElement("div",null,l.a.createElement("h1",{className:"text-align-center"},"Individual Graphs"),l.a.createElement("p",null,"Below are the annonymized graphs for all sequencing runs of the graph data. They are presented in a random order."),function(){for(var a=e.graphs.length/9,t=[],n=function(e){var a=9*e,n=9*(e+1),r=a===v&&n===N?" selected":"",c=l.a.createElement("div",{onClick:function(){b(a),y(n)},className:"hover graph-section-selector"+r,key:"".concat(a,"-").concat(n)},l.a.createElement("p",null,a,"-",n));t.push(c)},r=0;r<a;r++)n(r);return t}()),l.a.createElement(S.a,null,e.graphs.slice(v,N).map((function(a,t){return l.a.createElement(D.a,{xs:12,md:6,xl:4,key:"Graph-".concat(t),className:"pos-rel"},l.a.createElement(x,Object.assign({},e,{sliceList:a,sampleId:"Graph-".concat(v+t),width:340,height:550,showlegend:!1,level:r,showDownload:!1})))}))))};var U=function(e){return l.a.createElement("div",null,l.a.createElement("h1",{className:"text-align-center"},"About"),l.a.createElement("h2",null,"Overview"),l.a.createElement("div",{className:"padding-top-20"},l.a.createElement("p",null,'This data was generated as part of IGO\'s 2019 Open House. We asked visitors for their voluntary participation to "swab" their mobile phones to collect microorganisms associated with their personal device. They received an annonymized identification number they could use to obtain their sequencing results, which are available on the ',l.a.createElement("a",{href:"https://igo.mskcc.org/swabnseq",target:"_blank",rel:"noopener noreferrer"},"Data")," page.")),l.a.createElement("h2",null,"Extraction/Sequencing"),l.a.createElement("div",{className:"padding-top-20"},l.a.createElement("p",null,"DNA was extracted directly from swabs. Samples were extracted using the Extract-N-Amp Plant PCR kit (Sigma Aldrich). Each swab tip was added to 100 \xb5l of extraction solution, heated for 10 min at 95 \xb0C, and 100 \xb5l of dilution solution added. Finally, the V4 region of bacterial 16S rRNA gene was amplified and prepped for amplicon sequencing ",l.a.createElement("a",{href:"https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4081285/#ref-16",target:"_blank",rel:"noopener noreferrer"},"(Flores, Henley & Fierer, 2012)"))),l.a.createElement("h2",null,"Data"),l.a.createElement("div",{className:"padding-top-20"},l.a.createElement("p",null,"Data was generated using the open-source bioinformatics tool, ",l.a.createElement("a",{href:"https://qiime2.org/",target:"_blank",rel:"noopener noreferrer"},"Qiime"),".")),l.a.createElement("h2",null,"Contact"),l.a.createElement("div",{className:"padding-top-20"},l.a.createElement("p",null,"Email ",l.a.createElement("a",{href:"mailto:genomics@mskcc.org"},"genomics@mskcc.org")," for questions or to book a consultation")))};var W=function(){var e=Object(n.useState)([]),a=Object(o.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)([]),m=Object(o.a)(c,2),u=m[0],d=m[1];return Object(n.useEffect)((function(){j.a.get("".concat(w.service,"/allresults")).then((function(e){return P(e)})).catch(console.log).then((function(e){var a=e.summary||{},t=e.results;a&&r(a),t&&d(t)})).catch(console.log)}),[]),l.a.createElement("div",null,l.a.createElement(s.a,null,l.a.createElement("header",{className:"App-header"},l.a.createElement("div",{className:"margin-left-40"},l.a.createElement(s.b,{className:"header-tab",to:"".concat(w.root)},l.a.createElement("h1",{className:"white"},"Data")),l.a.createElement(s.b,{className:"header-tab",to:"".concat(w.root,"about")},l.a.createElement("h1",{className:"white"},"About")),l.a.createElement("div",{className:"logo-container"},l.a.createElement("p",{className:"logo-text inline-block"},"Integrated Genomics Operation"),l.a.createElement("a",{href:"https://igo.mskcc.org/",target:"_blank"},l.a.createElement("img",{className:"logo inline-block",src:"https://i.imgur.com/olnUkdu.png",alt:"igo-logo"}))))),l.a.createElement("div",{className:"body-container margin-top-15 padding-hor-5per"},l.a.createElement(i.c,null,l.a.createElement(i.a,{exact:!0,path:"".concat(w.root),render:function(e){return l.a.createElement(M,Object.assign({},e,{graphs:u,summaryGraph:t}))}}),l.a.createElement(i.a,{path:"".concat(w.root,"about"),render:function(e){return l.a.createElement(U,null)}})))),l.a.createElement("footer",null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[62,1,2]]]);
//# sourceMappingURL=main.fc4ac6d1.chunk.js.map